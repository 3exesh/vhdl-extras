<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>secded_edac &mdash; VHDL-extras 1.0 documentation</title>
    
    <link rel="stylesheet" href="../../_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/project.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '1.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="http://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS_CHTML"></script>
    <link rel="top" title="VHDL-extras 1.0 documentation" href="../../index.html" />
    <link rel="next" title="sizing" href="sizing.html" />
    <link rel="prev" title="secded_codec" href="secded_codec.html" />
   
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9">

  </head>
  <body>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="secded-edac">
<h1>secded_edac<a class="headerlink" href="#secded-edac" title="Permalink to this headline">¶</a></h1>
<p><a class="reference external" href="https://github.com/kevinpt/vhdl-extras/blob/master/rtl/extras/secded_edac.vhdl">extras/secded_edac.vhdl</a></p>
<div class="section" id="dependencies">
<h2>Dependencies<a class="headerlink" href="#dependencies" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><a class="reference internal" href="sizing.html"><em>sizing</em></a></li>
<li><a class="reference internal" href="hamming_edac.html"><em>hamming_edac</em></a></li>
<li><a class="reference internal" href="parity_ops.html"><em>parity_ops</em></a></li>
</ul>
</div>
<div class="section" id="description">
<h2>Description<a class="headerlink" href="#description" title="Permalink to this headline">¶</a></h2>
<p>This package implements Single Error Correction, Double Error Detection
(SECDED) by extending the Hamming code with an extra overall parity bit.
It is built on top of the functions implemented in <a class="reference internal" href="hamming_edac.html"><em>hamming_edac</em></a>.
The <a class="reference internal" href="hamming_edac.html#hamming_edac.ecc_vector" title="hamming_edac.ecc_vector"><tt class="xref vhdl vhdl-type docutils literal"><span class="pre">ecc_vector</span></tt></a> is extended with an additional
parity bit to the right of the Hamming parity as shown below.</p>
<p>SECDED <tt class="docutils literal"><span class="pre">ecc_vector</span></tt> layout:</p>
<div class="highlight-python"><div class="highlight"><pre>                           MSb            LSb
[(data&#39;length - 1) &lt;-&gt; 0] [-1 &lt;-&gt; -(parity_size - 1)] [-parity_size]
          data               Hamming parity          SECDED parity bit
</pre></div>
</div>
<div class="section" id="example-usage">
<h3>Example usage<a class="headerlink" href="#example-usage" title="Permalink to this headline">¶</a></h3>
<div class="highlight-vhdl"><div class="highlight"><pre><span class="k">signal</span> <span class="n">word</span><span class="p">,</span> <span class="n">corrected_word</span> <span class="o">:</span> <span class="kt">std_ulogic_vector</span><span class="p">(</span><span class="mi">15</span> <span class="k">downto</span> <span class="mi">0</span><span class="p">);</span>
<span class="k">constant</span> <span class="n">WORD_MSG_SIZE</span> <span class="o">:</span> <span class="kt">positive</span> <span class="o">:=</span> <span class="n">secded_message_size</span><span class="p">(</span><span class="n">word</span><span class="na">&#39;length</span><span class="p">);</span>
<span class="k">signal</span> <span class="n">secded_word</span> <span class="o">:</span>
  <span class="n">ecc_vector</span><span class="p">(</span><span class="n">word</span><span class="na">&#39;high</span> <span class="k">downto</span> <span class="o">-</span><span class="n">secded_parity_size</span><span class="p">(</span><span class="n">WORD_MSG_SIZE</span><span class="p">));</span>
<span class="p">...</span>
<span class="n">secded_word</span> <span class="o">&lt;=</span> <span class="n">secded_encode</span><span class="p">(</span><span class="n">word</span><span class="p">);</span>
<span class="p">...</span> <span class="o">&lt;</span><span class="n">SEU</span> <span class="k">or</span> <span class="n">transmission</span> <span class="n">error</span> <span class="n">flips</span> <span class="n">a</span> <span class="kt">bit</span><span class="o">&gt;</span>
<span class="n">corrected_word</span> <span class="o">&lt;=</span> <span class="n">secded_decode</span><span class="p">(</span><span class="n">hamming_word</span><span class="p">);</span>
<span class="n">errors</span> <span class="o">:=</span> <span class="n">secded_has_errors</span><span class="p">(</span><span class="n">secded_word</span><span class="p">);</span>
<span class="k">if</span> <span class="n">errors</span><span class="p">(</span><span class="n">single_bit</span><span class="p">)</span> <span class="k">or</span> <span class="n">errors</span><span class="p">(</span><span class="n">double_bit</span><span class="p">)</span> <span class="k">then</span> <span class="p">...</span> <span class="c1">-- check for error</span>
</pre></div>
</div>
<p>As with <tt class="docutils literal"><span class="pre">hamming_edac</span></tt>, it is possible to share logic between the decoder
and error checker and also between an encoder and decoder that don&#8217;t
operate simultaneously. Refer to <a class="reference internal" href="hamming_edac.html"><em>hamming_edac</em></a> and <a class="reference internal" href="secded_codec.html"><em>secded_codec</em></a>
for examples of this approach.</p>
<span class="target" id="package-secded_edac"></span></div>
</div>
<div class="section" id="types">
<h2>Types<a class="headerlink" href="#types" title="Permalink to this headline">¶</a></h2>
<dl class="type">
<dt id="secded_edac.secded_error_kind">
<tt class="descclassname">secded_edac.</tt><tt class="descname">secded_error_kind</tt><a class="headerlink" href="#secded_edac.secded_error_kind" title="Permalink to this definition">¶</a></dt>
<dd><p>Type of SECDED errors.</p>
</dd></dl>

<dl class="type">
<dt id="secded_edac.secded_errors">
<tt class="descclassname">secded_edac.</tt><tt class="descname">secded_errors</tt><a class="headerlink" href="#secded_edac.secded_errors" title="Permalink to this definition">¶</a></dt>
<dd><p>Boolean bitfield for SECDED errors.</p>
</dd></dl>

</div>
<div class="section" id="subprograms">
<h2>Subprograms<a class="headerlink" href="#subprograms" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="secded_edac.secded_message_size[positive return positive]">
<tt class="descclassname">secded_edac.</tt><tt class="descname">secded_message_size</tt> <big>(</big><em>Data_size : positive</em><big>)</big> &rarr; positive<a class="headerlink" href="#secded_edac.secded_message_size[positive return positive]" title="Permalink to this definition">¶</a></dt>
<dd><p>Determine the size of a message (data interleaved with parity) given
the size of data to be protected.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>Data_size</strong> (<em>positive</em>) &#8211; Number of data bits</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">Message size.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="secded_edac.secded_indices[positive return ecc_range]">
<tt class="descclassname">secded_edac.</tt><tt class="descname">secded_indices</tt> <big>(</big><em>Data_size : positive</em><big>)</big> &rarr; ecc_range<a class="headerlink" href="#secded_edac.secded_indices[positive return ecc_range]" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the left and right indices needed to declare an ecc_vector for the
requested data size.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>Data_size</strong> (<em>positive</em>) &#8211; Number of data bits</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">Range with left and right.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="secded_edac.secded_parity_size[positive return positive]">
<tt class="descclassname">secded_edac.</tt><tt class="descname">secded_parity_size</tt> <big>(</big><em>Message_size : positive</em><big>)</big> &rarr; positive<a class="headerlink" href="#secded_edac.secded_parity_size[positive return positive]" title="Permalink to this definition">¶</a></dt>
<dd><p>Determine the number of parity bits for a given message size.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>Message_size</strong> (<em>positive</em>) &#8211; Number of bits in complete message</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">Parity size.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="secded_edac.secded_data_size[positive return positive]">
<tt class="descclassname">secded_edac.</tt><tt class="descname">secded_data_size</tt> <big>(</big><em>Message_size : positive</em><big>)</big> &rarr; positive<a class="headerlink" href="#secded_edac.secded_data_size[positive return positive]" title="Permalink to this definition">¶</a></dt>
<dd><p>Determine the number of data bits for a given message size.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>Message_size</strong> (<em>positive</em>) &#8211; Number of bits in complete message</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">Data size.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="secded_edac.secded_encode[std_ulogic_vector return ecc_vector]">
<tt class="descclassname">secded_edac.</tt><tt class="descname">secded_encode</tt> <big>(</big><em>Data : std_ulogic_vector</em><big>)</big> &rarr; ecc_vector<a class="headerlink" href="#secded_edac.secded_encode[std_ulogic_vector return ecc_vector]" title="Permalink to this definition">¶</a></dt>
<dd><p>Encode the supplied data into an ecc_vector using Hamming code for
the parity and an additional overall parity for SECDED. This version
uses self contained logic.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>Data</strong> (<em>std_ulogic_vector</em>) &#8211; Raw data</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">Encoded data with parity.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="secded_edac.secded_encode[std_ulogic_vector,unsigned return ecc_vector]">
<tt class="descclassname">secded_edac.</tt><tt class="descname">secded_encode</tt> <big>(</big><em>Data : std_ulogic_vector</em>; <em>Parity_bits : unsigned</em><big>)</big> &rarr; ecc_vector<a class="headerlink" href="#secded_edac.secded_encode[std_ulogic_vector,unsigned return ecc_vector]" title="Permalink to this definition">¶</a></dt>
<dd><p>Encode the supplied data into an ecc_vector using Hamming code for
the parity and an additional overall parity for SECDED. This version
depends on external logic to generate the Hamming parity bits.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>Data</strong> (<em>std_ulogic_vector</em>) &#8211; Raw data</li>
<li><strong>Parity_bits</strong> (<em>unsigned</em>) &#8211; Number of parity bits</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">Encoded data with parity.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="secded_edac.secded_decode[ecc_vector return std_ulogic_vector]">
<tt class="descclassname">secded_edac.</tt><tt class="descname">secded_decode</tt> <big>(</big><em>Encoded_data : ecc_vector</em><big>)</big> &rarr; std_ulogic_vector<a class="headerlink" href="#secded_edac.secded_decode[ecc_vector return std_ulogic_vector]" title="Permalink to this definition">¶</a></dt>
<dd><p>Decode an ecc_vector into the plain data bits, potentially correcting
a single-bit error if a bit has flipped. This version uses self
contained logic.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>Encoded_data</strong> (<em>ecc_vector</em>) &#8211; Encoded (uninterleaved) message</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">Decoded data.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="secded_edac.secded_has_errors[ecc_vector return secded_errors]">
<tt class="descclassname">secded_edac.</tt><tt class="descname">secded_has_errors</tt> <big>(</big><em>Encoded_data : ecc_vector</em><big>)</big> &rarr; secded_errors<a class="headerlink" href="#secded_edac.secded_has_errors[ecc_vector return secded_errors]" title="Permalink to this definition">¶</a></dt>
<dd><p>Test for a single-bit and double-bit errors in an ecc_vector. Returns
true for each error type.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>Encoded_data</strong> (<em>ecc_vector</em>) &#8211; Encoded (uninterleaved) message</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">true if message has a single or double-bit error.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="secded_edac.secded_has_errors[ecc_vector,unsigned return secded_errors]">
<tt class="descclassname">secded_edac.</tt><tt class="descname">secded_has_errors</tt> <big>(</big><em>Encoded_data : ecc_vector</em>; <em>Syndrome : unsigned</em><big>)</big> &rarr; secded_errors<a class="headerlink" href="#secded_edac.secded_has_errors[ecc_vector,unsigned return secded_errors]" title="Permalink to this definition">¶</a></dt>
<dd><p>Test for a single-bit and double-bit errors in an ecc_vector. Returns
true for each error type. This version depends on external logic to
generate a syndrome.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>Encoded_data</strong> (<em>ecc_vector</em>) &#8211; Encoded (uninterleaved) message</li>
<li><strong>Syndrome</strong> (<em>unsigned</em>) &#8211; Syndrome generated by hamming_parity()</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">true if message has a single or double-bit error.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../../index.html">
              <img class="logo" src="../../_static/vhdl-extras-sm.png" alt="Logo"/>
            </a></p>
<h1 class="logo"><a href="../../index.html">VHDL-extras</a></h1>



<p class="blurb">Flexible VHDL library</p>



<p>
<iframe src="https://ghbtns.com/github-btn.html?user=kevinpt&repo=vhdl-extras&type=watch&count=true&size=large"
  allowtransparency="true" frameborder="0" scrolling="0" width="200px" height="35px"></iframe>
</p>


<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../../index.html">Documentation overview</a><ul>
      <li>Previous: <a href="secded_codec.html" title="previous chapter">secded_codec</a></li>
      <li>Next: <a href="sizing.html" title="next chapter">sizing</a></li>
  </ul></li>
</ul>
</div>
  <h3><a href="../../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">secded_edac</a><ul>
<li><a class="reference internal" href="#dependencies">Dependencies</a></li>
<li><a class="reference internal" href="#description">Description</a><ul>
<li><a class="reference internal" href="#example-usage">Example usage</a></li>
</ul>
</li>
<li><a class="reference internal" href="#types">Types</a></li>
<li><a class="reference internal" href="#subprograms">Subprograms</a></li>
</ul>
</li>
</ul>
<h3>Other projects</h3>

<div id="proj_list">
<p>
<a href="http://kevinpt.github.io/opbasm/">Opbasm</a><br>
<a href="http://kevinpt.github.io/ripyl/">Ripyl</a><br>
<a href="http://code.google.com/p/vertcl">Vertcl</a><br>

<a href="http://kevinpt.github.io/lecroy-colorizer/">Lecroy-colorizer</a>
</p>
</div>

<script>
$(function() { // Retrieve list of repositories from Github and dynamically insert them into sidebar

if(!window.sessionStorage || !JSON) { return; } // Punt on crusty browsers (looking at you IE10)

function JSONP( url, callback ) {
	var id = ( 'jsonp' + Math.random() * new Date() ).replace('.', '');
	var script = document.createElement('script');
	script.src = url.replace( 'callback=?', 'callback=' + id );
	document.body.appendChild( script );
	window[ id ] = function( data ) {
		if (callback) {
			callback( data );
		}
	};
}

function insert_projects(projects) {
    var links = [];
    var cur_proj = "VHDL-extras".toLowerCase();
    $.each(projects, function(key, value) {
      if(key != cur_proj) {
        var title = key.replace(/^./, function(match) {return match.toUpperCase()}); // Capitalize first char
        links.push("<a href='"+ value +"'>" + title + "</a>");
      }
    });
    
    $("#proj_list").html("<p>"+ links.join("<br>") +"</p>");
}

var now = new Date().getTime();
if(sessionStorage.KTcacheTime && now - sessionStorage.KTcacheTime < 5*60*1000 ) { // Use cached values (5 min. expiry)
  insert_projects(JSON.parse(sessionStorage.KTprojects));
} else { // Retrieve current projects
  JSONP("https://api.github.com/users/kevinpt/repos?type=owner&callback=?", function(response) {
    var projects = {};
    $.each(response.data, function(index, value) {
      projects[value.name] = value.homepage;
    });
    
    insert_projects(projects);
    
    // Store data in session cache
    sessionStorage.KTprojects = JSON.stringify(projects);
    var now = new Date().getTime();
    sessionStorage.KTcacheTime = now;
  });  
}

});
</script>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>

    <div class="footer">
      &copy;2015, Kevin Thibedeau.
      
      |
      <a href="../../_sources/rst/modules/secded_edac.txt"
          rel="nofollow">Page source</a>
    </div>

    

    


  </body>
</html>