<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>lcar_ops &mdash; VHDL-extras 1.0 documentation</title>
    
    <link rel="stylesheet" href="../../_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/project.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../',
        VERSION:     '1.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../_static/doctools.js"></script>
    <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="top" title="VHDL-extras 1.0 documentation" href="../../index.html" />
    <link rel="next" title="lfsr_ops" href="lfsr_ops.html" />
    <link rel="prev" title="hamming_edac" href="hamming_edac.html" />
   
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9">

  </head>
  <body>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="lcar-ops">
<h1>lcar_ops<a class="headerlink" href="#lcar-ops" title="Permalink to this headline">¶</a></h1>
<p><a class="reference external" href="https://github.com/kevinpt/vhdl-extras/blob/master/rtl/extras/lcar_ops.vhdl">extras/lcar_ops.vhdl</a></p>
<div class="section" id="dependencies">
<h2>Dependencies<a class="headerlink" href="#dependencies" title="Permalink to this headline">¶</a></h2>
<p>None</p>
</div>
<div class="section" id="description">
<h2>Description<a class="headerlink" href="#description" title="Permalink to this headline">¶</a></h2>
<p>This package provides a component that implements the <a class="reference external" href="https://en.wikipedia.org/wiki/Elementary_cellular_automaton">Wolfram Linear
Cellular Automata Register (LCAR)</a>
as described in &#8220;Statistical Mechanics
of Cellular Automata&#8221;, Wolfram 1983. The LCAR implemented in <cite>wolfram_lcar</cite>
uses rules 90 and 150 for each cell as defined by an input <cite>Rule_map</cite> where
a &#8216;0&#8217; indicates rule 90 and &#8216;1&#8217; indicates rule 150 for the corresponding
cell in the State register.</p>
<p>The LCAR using rules 90 and 150 can produce output equivalent to maximal
length LFSRs but with the advantage of less correlation between bits of
the state register. This makes the LCAR more suitable for pseudo-random
number generation. The predefined <cite>LCAR_*</cite> constants provide rule maps for
maximal length sequences.</p>
<p>For basic pseudo-random state generation it is sufficient to tie the
<cite>Left_in</cite> and <cite>Right_in</cite> inputs to &#8216;0&#8217;.</p>
<div class="highlight-vhdl"><div class="highlight"><pre><span class="k">library</span> <span class="nn">extras</span><span class="p">;</span>
<span class="k">use</span> <span class="nn">extras.lcar_ops.all</span><span class="p">;</span>

<span class="k">constant</span> <span class="n">WIDTH</span> <span class="o">:</span> <span class="kt">positive</span> <span class="o">:=</span> <span class="mi">8</span><span class="p">;</span>
<span class="k">constant</span> <span class="n">rule</span> <span class="o">:</span> <span class="kt">std_ulogic_vector</span><span class="p">(</span><span class="n">WIDTH</span><span class="o">-</span><span class="mi">1</span> <span class="k">downto</span> <span class="mi">0</span><span class="p">)</span> <span class="o">:=</span> <span class="n">lcar_rule</span><span class="p">(</span><span class="n">WIDTH</span><span class="p">);</span>
<span class="k">variable</span> <span class="n">state</span> <span class="o">:</span> <span class="kt">std_ulogic_vector</span><span class="p">(</span><span class="n">WIDTH</span><span class="o">-</span><span class="mi">1</span> <span class="k">downto</span> <span class="mi">0</span><span class="p">)</span> <span class="o">:=</span> <span class="p">(</span><span class="k">others</span> <span class="o">=&gt;</span> <span class="sc">&#39;1&#39;</span><span class="p">);</span>
<span class="p">...</span>
<span class="c1">-- Basic usage with default &#39;0&#39;s shifting in from ends</span>
<span class="n">state</span> <span class="o">:=</span> <span class="n">next_wolfram_lcar</span><span class="p">(</span><span class="n">state</span><span class="p">,</span> <span class="n">rule</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="components">
<h2>Components<a class="headerlink" href="#components" title="Permalink to this headline">¶</a></h2>
<img src="../../_images/lcar_ops-wolfram_lcar.svg" /><div class="highlight-vhdl"><div class="highlight"><pre><span class="k">library</span> <span class="nn">extras</span><span class="p">;</span>
<span class="k">use</span> <span class="nn">extras.lcar_ops.all</span><span class="p">;</span>

<span class="k">constant</span> <span class="n">WIDTH</span> <span class="o">:</span> <span class="kt">positive</span> <span class="o">:=</span> <span class="mi">8</span><span class="p">;</span>
<span class="k">constant</span> <span class="n">rule</span>  <span class="o">:</span> <span class="kt">std_ulogic_vector</span><span class="p">(</span><span class="n">WIDTH</span><span class="o">-</span><span class="mi">1</span> <span class="k">downto</span> <span class="mi">0</span><span class="p">)</span> <span class="o">:=</span> <span class="n">lcar_rule</span><span class="p">(</span><span class="n">WIDTH</span><span class="p">);</span>
<span class="k">signal</span>   <span class="n">state</span> <span class="o">:</span> <span class="kt">std_ulogic_vector</span><span class="p">(</span><span class="n">WIDTH</span><span class="o">-</span><span class="mi">1</span> <span class="k">downto</span> <span class="mi">0</span><span class="p">)</span> <span class="o">:=</span> <span class="p">(</span><span class="k">others</span> <span class="o">=&gt;</span> <span class="sc">&#39;1&#39;</span><span class="p">);</span>
<span class="p">...</span>

<span class="n">wl</span><span class="o">:</span> <span class="n">wolfram_lcar</span>
  <span class="k">port</span> <span class="k">map</span> <span class="p">(</span>
    <span class="n">Clock</span> <span class="o">=&gt;</span> <span class="n">clock</span><span class="p">,</span>
    <span class="n">Reset</span> <span class="o">=&gt;</span> <span class="n">reset</span><span class="p">,</span>
    <span class="n">Enable</span> <span class="o">=&gt;</span> <span class="n">enable</span><span class="p">,</span>

    <span class="n">Rule_map</span> <span class="o">=&gt;</span> <span class="n">rule</span>
    <span class="n">Left_in</span> <span class="o">=&gt;</span> <span class="sc">&#39;0&#39;</span><span class="p">,</span>
    <span class="n">Right_in</span> <span class="o">=&gt;</span> <span class="sc">&#39;0&#39;</span><span class="p">,</span>

    <span class="n">State</span> <span class="o">=&gt;</span> <span class="n">state</span>
  <span class="p">);</span>
</pre></div>
</div>
<span class="target" id="package-lcar_ops"></span></div>
<div class="section" id="types">
<h2>Types<a class="headerlink" href="#types" title="Permalink to this headline">¶</a></h2>
<dl class="type">
<dt id="lcar_ops.foo">
<tt class="descclassname">lcar_ops.</tt><tt class="descname">foo</tt><a class="headerlink" href="#lcar_ops.foo" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="type">
<dt id="lcar_ops.baz">
<tt class="descclassname">lcar_ops.</tt><tt class="descname">baz</tt><a class="headerlink" href="#lcar_ops.baz" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="subtypes">
<h2>Subtypes<a class="headerlink" href="#subtypes" title="Permalink to this headline">¶</a></h2>
<dl class="subtype">
<dt id="lcar_ops.bar">
<tt class="descclassname">lcar_ops.</tt><tt class="descname">bar</tt><a class="headerlink" href="#lcar_ops.bar" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="subprograms">
<h2>Subprograms<a class="headerlink" href="#subprograms" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="lcar_ops.next_wolfram_lcar[std_ulogic_vector,std_ulogic_vector,std_ulogic,std_ulogic return std_ulogic_vector]">
<tt class="descclassname">lcar_ops.</tt><tt class="descname">next_wolfram_lcar</tt> <big>(</big><em>State : std_ulogic_vector</em>; <em>Rule_map : std_ulogic_vector</em>; <em>Left_in : std_ulogic</em>; <em>Right_in : std_ulogic</em><big>)</big> &rarr; std_ulogic_vector<a class="headerlink" href="#lcar_ops.next_wolfram_lcar[std_ulogic_vector,std_ulogic_vector,std_ulogic,std_ulogic return std_ulogic_vector]" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>State</strong> (<em>std_ulogic_vector</em>) &#8211; Current state of the LCAR cells</li>
<li><strong>Rule_map</strong> (<em>std_ulogic_vector</em>) &#8211; Rules for each cell; &#8216;1&#8217; -&gt; 150, &#8216;0&#8217; -&gt; 90</li>
<li><strong>Left_in</strong> (<em>std_ulogic</em>) &#8211; Left side input to LCAR</li>
<li><strong>Right_in</strong> (<em>std_ulogic</em>) &#8211; Right side input to LCAR</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">Next iteration of the LCAR rules which becomes the new state</p>
</td>
</tr>
</tbody>
</table>
<p>Determine the next state of the LCAR defined by the Rule_map.</p>
</dd></dl>

<dl class="function">
<dt id="lcar_ops.lcar_rule[positive return std_ulogic_vector]">
<tt class="descclassname">lcar_ops.</tt><tt class="descname">lcar_rule</tt> <big>(</big><em>Size : positive</em><big>)</big> &rarr; std_ulogic_vector<a class="headerlink" href="#lcar_ops.lcar_rule[positive return std_ulogic_vector]" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>Size</strong> (<em>positive</em>) &#8211; Number of LCAR cells</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">Predefined rule map</p>
</td>
</tr>
</tbody>
</table>
<p>Lookup a predefined rule set from the table.</p>
</dd></dl>

</div>
<div class="section" id="package-foobar">
<span id="testing"></span><h2>Testing<a class="headerlink" href="#package-foobar" title="Permalink to this headline">¶</a></h2>
<dl class="type">
<dt id="foobar.myint is integer range(0 to 100)">
<tt class="descclassname">foobar.</tt><tt class="descname">myint is integer range(0 to 100)</tt><a class="headerlink" href="#foobar.myint is integer range(0 to 100)" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt>
<tt class="descname">foofunc(a : integer(0 to 10); b:positive) return natural</tt></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>a</strong> &#8211; This is parameter a</li>
<li><strong>b</strong> &#8211; This is parameter b</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">The result</p>
</td>
</tr>
</tbody>
</table>
<p>This is a function.</p>
<p>It has parameters:</p>
</dd></dl>

<dl class="function">
<dt>
<tt class="descname">foofunc(q : integer) return natural</tt></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>q</strong> &#8211; This is the q parameter</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt>
<tt class="descname">barfunc return natural</tt></dt>
<dd><p>This is a function.</p>
</dd></dl>

<dl class="procedure">
<dt>
<tt class="descname">bazproc(r : in integer; s : out unsigned)</tt></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>r</strong> &#8211; R parameter</li>
<li><strong>s</strong> &#8211; S parameter</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>This is a procedure xx.</p>
<p>This is the last line.</p>
</dd></dl>

<dl class="entity">
<dt id="foobar.myent port(a : in signed; b : out unsigned)">
<tt class="descclassname">foobar.</tt><tt class="descname">myent port(a : in signed; b : out unsigned)</tt><a class="headerlink" href="#foobar.myent port(a : in signed; b : out unsigned)" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Generics:</th><td class="field-body"><ul class="first simple">
<li><strong>G_X</strong> (<em>natural</em>) &#8211; generic x</li>
<li><strong>G_Y</strong> &#8211; generic y</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Port:</th><td class="field-body"><ul class="first last simple">
<li><strong>a</strong> (<em>in signed</em>) &#8211; parameter a</li>
<li><strong>b</strong> &#8211; parameter b</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>This is an entity.</p>
</dd></dl>

<p>Module <a class="reference internal" href="#package-foobar" title="friuhiuh"><tt class="xref vhdl vhdl-pkg docutils literal"><span class="pre">foobar()</span></tt></a></p>
<p>Function <tt class="xref vhdl vhdl-func docutils literal"><span class="pre">foobar.foofunc()</span></tt></p>
<p>Function2 <tt class="xref vhdl vhdl-func docutils literal"><span class="pre">xyz</span></tt></p>
<p>Function <tt class="xref vhdl vhdl-func docutils literal"><span class="pre">foobar.barfunc()</span></tt></p>
<p>Type <tt class="xref vhdl vhdl-type docutils literal"><span class="pre">myint()</span></tt></p>
<p>No sig <tt class="xref vhdl vhdl-func docutils literal"><span class="pre">foofunc()</span></tt></p>
<p>Proc reference <tt class="xref vhdl vhdl-proc docutils literal"><span class="pre">bazproc()</span></tt></p>
<p>End modules</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../../index.html">
              <img class="logo" src="../../_static/vhdl-extras-sm.png" alt="Logo"/>
            </a></p>
<h1 class="logo"><a href="../../index.html">VHDL-extras</a></h1>



<p class="blurb">Flexible VHDL library</p>



<p>
<iframe src="https://ghbtns.com/github-btn.html?user=kevinpt&repo=vhdl-extras&type=watch&count=true&size=large"
  allowtransparency="true" frameborder="0" scrolling="0" width="200px" height="35px"></iframe>
</p>


<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../../index.html">Documentation overview</a><ul>
      <li>Previous: <a href="hamming_edac.html" title="previous chapter">hamming_edac</a></li>
      <li>Next: <a href="lfsr_ops.html" title="next chapter">lfsr_ops</a></li>
  </ul></li>
</ul>
</div>
  <h3><a href="../../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">lcar_ops</a><ul>
<li><a class="reference internal" href="#dependencies">Dependencies</a></li>
<li><a class="reference internal" href="#description">Description</a></li>
<li><a class="reference internal" href="#components">Components</a></li>
<li><a class="reference internal" href="#types">Types</a></li>
<li><a class="reference internal" href="#subtypes">Subtypes</a></li>
<li><a class="reference internal" href="#subprograms">Subprograms</a></li>
<li><a class="reference internal" href="#package-foobar">Testing</a></li>
</ul>
</li>
</ul>
<h3>Other projects</h3>

<div id="proj_list">
<p>
<a href="http://kevinpt.github.io/opbasm/">Opbasm</a><br>
<a href="http://kevinpt.github.io/ripyl/">Ripyl</a><br>
<a href="http://code.google.com/p/vertcl">Vertcl</a><br>

<a href="http://kevinpt.github.io/lecroy-colorizer/">Lecroy-colorizer</a>
</p>
</div>

<script>
$(function() { // Retrieve list of repositories from Github and dynamically insert them into sidebar

if(!window.sessionStorage || !JSON) { return; } // Punt on crusty browsers (looking at you IE10)

function JSONP( url, callback ) {
	var id = ( 'jsonp' + Math.random() * new Date() ).replace('.', '');
	var script = document.createElement('script');
	script.src = url.replace( 'callback=?', 'callback=' + id );
	document.body.appendChild( script );
	window[ id ] = function( data ) {
		if (callback) {
			callback( data );
		}
	};
}

function insert_projects(projects) {
    var links = [];
    var cur_proj = "VHDL-extras".toLowerCase();
    $.each(projects, function(key, value) {
      if(key != cur_proj) {
        var title = key.replace(/^./, function(match) {return match.toUpperCase()}); // Capitalize first char
        links.push("<a href='"+ value +"'>" + title + "</a>");
      }
    });
    
    $("#proj_list").html("<p>"+ links.join("<br>") +"</p>");
}

var now = new Date().getTime();
if(sessionStorage.KTcacheTime && now - sessionStorage.KTcacheTime < 5*60*1000 ) { // Use cached values (5 min. expiry)
  insert_projects(JSON.parse(sessionStorage.KTprojects));
} else { // Retrieve current projects
  JSONP("https://api.github.com/users/kevinpt/repos?type=owner&callback=?", function(response) {
    var projects = {};
    $.each(response.data, function(index, value) {
      projects[value.name] = value.homepage;
    });
    
    insert_projects(projects);
    
    // Store data in session cache
    sessionStorage.KTprojects = JSON.stringify(projects);
    var now = new Date().getTime();
    sessionStorage.KTcacheTime = now;
  });  
}

});
</script>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>

    <div class="footer">
      &copy;2015, Kevin Thibedeau.
      
      |
      <a href="../../_sources/rst/modules/lcar_ops.txt"
          rel="nofollow">Page source</a>
    </div>

    

    


  </body>
</html>